## **代理模式 Proxy**

### **动机(Motivation)**

- 在面向对象系统中，有些对象由于某种原因（比如对象创建的开销很大，或者某些操作需要安全控制，或者需要进程外的访问等），直接访问会给使用者、或者系统结构带来很多麻烦。
- 如何在不失去透明操作对象的同时来管理/控制这些对象特有的复杂性？增加一层间接层是软件开发中常见的解决方式。

#### **模式定义**

为其他对象提供一种代理以控制（隔离，使用接口）对这个对象的访问。——《设计模式》GoF

### **结构(Structure)**

![](https://raw.githubusercontent.com/jiangshuangjun/studynote/master/04-%E8%B5%84%E6%BA%90/01-%E5%9B%BE%E7%89%87/%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F%E7%B1%BB%E5%9B%BE.jpg)

### **要点总结**

- “增加一层间接层”是软件系统中对许多复杂问题的一种常见解决方法。在面向对象系统中，直接使用某些对象会带来很多问题，作为间接层的 proxy 对象便是解决这一问题的常用手段。
- 具体 proxy 设计模式的实现方法、实现粒度都相差很大，有些可能对单个对象做细粒度的控制，如 copy-on-write 技术，有些可能对组件模块提供抽象代理层，在架构层次对对象做 proxy。
- Proxy 并不一定要求保持接口完整的一致性，只要能够实现间接控制，有时候损及一些透明性是可以接受的。

### 沽泡学院动态代理

1. 掌握代理模式的应用场景和实现原理
2. 了解静态代理和动态代理的区别
3. 了解 CGLib 和 JDK Proxy 的根本区别
4. 手写实现自定义的动态代理

Spring AOP 的代理模式

静态代理：显示声明被代理的对象

### **代码实现**

TODO